<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>이영훈 (Leeyounghun)</title>
    <link href="./bootstrap.min.css" rel="stylesheet">
    <script src="./jquery-3.7.1.min.js"></script>

</head>
<body>

<div class="container text-center mt-5">
    <img src="./me.jpeg" alt="Profile Picture"
         class="rounded-circle img-fluid" width="150" height="150">
    <h1 class="mt-3">이영훈 (Leeyounghun)</h1>
</div>


<div class="container mt-5">
    <h2>이영훈 닷컴(KR)</h2>
    <div class="table-responsive small">
        <table class="table table-striped table-sm">
            <thead>
            <tr>
                <th scope="col">작성일</th>
                <th scope="col">제목</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>0000년 00월 00일 00시 00분 00초</td>
                <td>데이터 없음</td>
            </tr>
            </tbody>
        </table>
    </div>
    </main>
</div>

<script type="text/javascript">
    function formatDate(input) {
        const date = new Date(input);
        const year = date.getFullYear();
        const month = ("0" + (date.getMonth() + 1)).slice(-2); // Months are zero-based
        const day = ("0" + date.getDate()).slice(-2);
        const hours = ("0" + date.getHours()).slice(-2);
        const minutes = ("0" + date.getMinutes()).slice(-2);
        const seconds = ("0" + date.getSeconds()).slice(-2);

        return year + '년 ' + month + '월 ' + day + '일 ' + hours + '시 ' + minutes + '분 ' + seconds + '초';
    }

    // jQuery를 사용하여 XML 데이터를 가져오는 함수
    $(document).ready(function() {
        const proxyUrl = 'https://corsproxy.io/?';
        const targetUrl = 'https://blog.leeyounghun.com/feed';

        $.ajax({
            url: proxyUrl + targetUrl,
            type: 'GET',
            dataType: 'xml',
            success: function(xml) {

                const $xml = $(xml);
                const $items = $xml.find('item');
                const $tbody = $('tbody');

                $tbody.empty(); // 기존 내용 지우기

                $items.each(function(index) {
                    const $item = $(this);
                    const title = $item.find('title').text();
                    const pubDate = formatDate($item.find('pubDate').text());
                    const link = $item.find('link').text();

                    const row = '<tr><td>' + pubDate + '</td><td><a href="'+link+'" target="_blank" class="' + (index === 0 ? 'text-danger fw-bold' : 'text-secondary') + ' text-decoration-none">' + title + '</a></td></tr>';

                    $tbody.append(row);
                })
            },
            error: function(xhr, status, error) {
                console.error('데이터를 가져오는 데 오류가 발생했습니다:', error);
            }
        });
    });
</script>

<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
<script type="text/javascript">
    if(!wcs_add) var wcs_add = {};
    wcs_add["wa"] = "482d1a1da195a0";
    if(window.wcs) {
        wcs_do();
    }
</script>

</body>
</html>